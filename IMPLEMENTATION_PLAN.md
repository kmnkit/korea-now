# Korea Now å®Ÿè£…è¨ˆç”»æ›¸

## ğŸ“‹ æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Korea Nowã®è©³ç´°ãªå®Ÿè£…è¨ˆç”»ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚**éŸ“å›½ã®ç¾çš„ã‚»ãƒ³ã‚¹ã¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¬ãƒ³ãƒ‰**ã‚’é‡è¦–ã—ãŸUI/UXè¨­è¨ˆã‚’ä¸­å¿ƒã«ã€æŠ€è¡“å®Ÿè£…ã®å…¨ä½“åƒã‚’ç¤ºã—ã¾ã™ã€‚

---

## ğŸ¨ Phase 0: ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰

### 0.1 éŸ“å›½ãƒ‡ã‚¶ã‚¤ãƒ³ãƒªã‚µãƒ¼ãƒ

#### å‚è€ƒã«ã™ã‚‹éŸ“å›½ã‚¢ãƒ—ãƒªãƒ»ã‚µãƒ¼ãƒ“ã‚¹
- **Naver**: éŸ“å›½æœ€å¤§ã®ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆ
- **Kakao**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ãƒ»ãƒãƒ¼ã‚¿ãƒ«
- **Coupang**: ECãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
- **Kurly**: é£Ÿå“ãƒ‡ãƒªãƒãƒªãƒ¼
- **29CM**: ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³EC
- **Wadiz**: ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ•ã‚¡ãƒ³ãƒ‡ã‚£ãƒ³ã‚°

#### éŸ“å›½ãƒ‡ã‚¶ã‚¤ãƒ³ã®ç‰¹å¾´
1. **ãƒŸãƒ‹ãƒãƒªã‚ºãƒ  + å¤§èƒ†ãªã‚¢ã‚¯ã‚»ãƒ³ãƒˆ**
   - ä½™ç™½ã‚’æ´»ã‹ã—ãŸã‚¯ãƒªãƒ¼ãƒ³ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
   - ãƒã‚¤ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ã§è¦–ç·šèª˜å°
   - ã‚«ãƒ¼ãƒ‰å‹UIã®å¤šç”¨

2. **ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£**
   - å¤§ããèª­ã¿ã‚„ã™ã„ãƒ•ã‚©ãƒ³ãƒˆ
   - å¤ªå­—ï¼ˆBoldï¼‰ã‚’åŠ¹æœçš„ã«ä½¿ç”¨
   - ãƒãƒ³ã‚°ãƒ«ãƒ»æ—¥æœ¬èªãƒ»è‹±èªã®æ··åœ¨ã‚’è€ƒæ…®

3. **ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ**
   - **ä¼çµ±è‰²**: í•œë³µï¼ˆãƒãƒ³ãƒœã‚¯ï¼‰ç”±æ¥ã®è‰²å½©
     - ì²­ììƒ‰ (Celadon): #94C9A9
     - ë‹¨ì²­ ì ìƒ‰ (Dancheong Red): #C62E2E
     - ëª…ì£¼ ë°±ìƒ‰ (Silk White): #F8F8F8
   - **ãƒ¢ãƒ€ãƒ³K-POPè‰²**:
     - ãƒã‚ªãƒ³ãƒ”ãƒ³ã‚¯: #FF3E9A
     - ã‚¨ãƒ¬ã‚¯ãƒˆãƒªãƒƒã‚¯ãƒ–ãƒ«ãƒ¼: #00D9FF
     - ãƒ‘ãƒ¼ãƒ—ãƒ«: #9D4EDD

4. **å†™çœŸãƒ»ç”»åƒ**
   - é«˜å“è³ªã§é®®ã‚„ã‹ãªå†™çœŸ
   - Instagramé¢¨ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
   - ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤

### 0.2 ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆå®šç¾©

```typescript
// lib/design-system/colors.ts
export const colors = {
  // Primary - éŸ“å›½ä¼çµ±è‰²ãƒ™ãƒ¼ã‚¹
  primary: {
    50: '#f0f9f4',
    100: '#daf1e3',
    200: '#b6e3c9',
    300: '#8dcfaa',  // Celadon inspired
    400: '#5fb688',
    500: '#3d9b6d',
    600: '#2d7d55',
    700: '#246446',
    800: '#1f5138',
    900: '#1b422f',
  },

  // Secondary - ãƒ¢ãƒ€ãƒ³K-POPãƒ”ãƒ³ã‚¯
  secondary: {
    50: '#fff0f7',
    100: '#ffdded',
    200: '#ffbbd9',
    300: '#ff88bf',
    400: '#ff3e9a',  // K-POP Pink
    500: '#e01875',
    600: '#c00058',
    700: '#a00048',
    800: '#80003a',
    900: '#60002c',
  },

  // Accent - ã‚¨ãƒ¬ã‚¯ãƒˆãƒªãƒƒã‚¯ãƒ–ãƒ«ãƒ¼
  accent: {
    50: '#e6f9ff',
    100: '#b3efff',
    200: '#80e5ff',
    300: '#4ddbff',
    400: '#00d9ff',  // Electric Blue
    500: '#00b8d9',
    600: '#0098b3',
    700: '#007a8c',
    800: '#005c66',
    900: '#003e40',
  },

  // Neutral - ã‚·ãƒ«ã‚¯ãƒ›ãƒ¯ã‚¤ãƒˆãƒ™ãƒ¼ã‚¹
  neutral: {
    50: '#fafafa',
    100: '#f5f5f5',
    200: '#e5e5e5',
    300: '#d4d4d4',
    400: '#a3a3a3',
    500: '#737373',
    600: '#525252',
    700: '#404040',
    800: '#262626',
    900: '#171717',
  },

  // Semantic Colors
  success: '#10b981',
  warning: '#f59e0b',
  error: '#ef4444',
  info: '#3b82f6',
}
```

### 0.3 ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£

```typescript
// lib/design-system/typography.ts
export const typography = {
  fonts: {
    // ãƒãƒ³ã‚°ãƒ«ãƒ»æ—¥æœ¬èªä¸¡å¯¾å¿œ
    primary: 'Pretendard Variable, "Noto Sans JP", sans-serif',
    // è‹±èªãƒ»æ•°å­—
    secondary: 'Inter Variable, sans-serif',
    // ã‚³ãƒ¼ãƒ‰
    mono: 'JetBrains Mono, monospace',
  },

  sizes: {
    xs: '0.75rem',    // 12px
    sm: '0.875rem',   // 14px
    base: '1rem',     // 16px
    lg: '1.125rem',   // 18px
    xl: '1.25rem',    // 20px
    '2xl': '1.5rem',  // 24px
    '3xl': '1.875rem',// 30px
    '4xl': '2.25rem', // 36px
    '5xl': '3rem',    // 48px
  },

  weights: {
    light: 300,
    regular: 400,
    medium: 500,
    semibold: 600,
    bold: 700,
    extrabold: 800,
  },
}
```

### 0.4 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆåŸå‰‡

#### éŸ“å›½ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚«ãƒ¼ãƒ‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Image - 16:9 ratio]       â”‚
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Title (Bold, Large)        â”‚
â”‚  Subtitle (Regular, Gray)   â”‚
â”‚                             â”‚
â”‚  [Tag] [Tag] [Tag]          â”‚
â”‚                             â”‚
â”‚  ğŸ‘¤ User  |  â¤ï¸ 123  |  ğŸ’¬ 45 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **è§’ä¸¸**: å¤§ãã‚ï¼ˆ12-16pxï¼‰
- **ã‚·ãƒ£ãƒ‰ã‚¦**: æŸ”ã‚‰ã‹ãæ§ãˆã‚
- **ãƒ›ãƒãƒ¼**: å¾®å¦™ãªã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ï¼ˆ1.02å€ï¼‰
- **ç”»åƒ**: é«˜å“è³ªã€ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤

### 0.5 ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ
```
Mobile (< 768px)
â”œâ”€â”€ Header (å›ºå®š)
â”œâ”€â”€ Search Bar (sticky)
â”œâ”€â”€ Filter Chips (æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«)
â””â”€â”€ Grid (1 column)

Tablet (768px - 1024px)
â””â”€â”€ Grid (2 columns)

Desktop (> 1024px)
â”œâ”€â”€ Sidebar (Filter)
â””â”€â”€ Grid (3 columns)
```

---

## ğŸ— Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (3-5æ—¥)

### 1.1 Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

```bash
npx create-next-app@latest korea-now \
  --typescript \
  --tailwind \
  --app \
  --src-dir \
  --import-alias "@/*"

cd korea-now
```

### 1.2 ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pnpm add @prisma/client @vercel/postgres @vercel/blob @vercel/kv
pnpm add next-auth@beta
pnpm add stripe openai
pnpm add @react-google-maps/api
pnpm add zod react-hook-form @hookform/resolvers
pnpm add date-fns
pnpm add zustand
pnpm add lucide-react class-variance-authority clsx tailwind-merge

pnpm add -D prisma
pnpm add -D @types/node
```

### 1.3 Tailwindè¨­å®šï¼ˆéŸ“å›½ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼‰

```typescript
// tailwind.config.ts
import type { Config } from 'tailwindcss'

const config: Config = {
  darkMode: ['class'],
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        // éŸ“å›½ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
        celadon: {
          DEFAULT: '#94C9A9',
          light: '#B8E6D0',
          dark: '#6BAA8A',
        },
        dancheong: {
          DEFAULT: '#C62E2E',
          light: '#E85858',
          dark: '#A31E1E',
        },
        kpop: {
          pink: '#FF3E9A',
          blue: '#00D9FF',
          purple: '#9D4EDD',
        },
        silk: '#F8F8F8',
      },
      fontFamily: {
        sans: ['var(--font-pretendard)', 'Noto Sans JP', 'sans-serif'],
        display: ['var(--font-inter)', 'sans-serif'],
      },
      borderRadius: {
        'korean': '12px',
        'korean-lg': '16px',
      },
      boxShadow: {
        'korean': '0 2px 8px rgba(0, 0, 0, 0.06)',
        'korean-lg': '0 4px 16px rgba(0, 0, 0, 0.08)',
      },
    },
  },
  plugins: [require('tailwindcss-animate')],
}

export default config
```

### 1.4 ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š

```typescript
// app/layout.tsx
import { Noto_Sans_JP } from 'next/font/google'
import localFont from 'next/font/local'

// Pretendardï¼ˆéŸ“å›½ãƒ•ã‚©ãƒ³ãƒˆï¼‰
const pretendard = localFont({
  src: './fonts/PretendardVariable.woff2',
  display: 'swap',
  variable: '--font-pretendard',
})

// Noto Sans JPï¼ˆæ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆï¼‰
const notoSansJP = Noto_Sans_JP({
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-noto-sans-jp',
})

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja" className={`${pretendard.variable} ${notoSansJP.variable}`}>
      <body className="font-sans">{children}</body>
    </html>
  )
}
```

### 1.5 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
korea-now/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”‚   â”œâ”€â”€ (main)/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # ãƒ›ãƒ¼ãƒ ï¼ˆã‚¹ãƒãƒƒãƒˆä¸€è¦§ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ spots/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/page.tsx    # ã‚¹ãƒãƒƒãƒˆè©³ç´°
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ new/page.tsx     # æ–°è¦æŠ•ç¨¿
â”‚   â”‚   â”‚   â”œâ”€â”€ search/page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ settings/page.tsx
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ spots/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/[...nextauth]/
â”‚   â”‚   â”‚   â”œâ”€â”€ moderation/
â”‚   â”‚   â”‚   â”œâ”€â”€ webhooks/stripe/
â”‚   â”‚   â”‚   â””â”€â”€ upload/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â””â”€â”€ fonts/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                       # shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ spots/
â”‚   â”‚   â”‚   â”œâ”€â”€ SpotCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SpotGrid.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SpotDetail.tsx
â”‚   â”‚   â”‚   â””â”€â”€ SpotForm.tsx
â”‚   â”‚   â”œâ”€â”€ maps/
â”‚   â”‚   â”‚   â””â”€â”€ GoogleMap.tsx
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â”‚   â””â”€â”€ moderation/
â”‚   â”‚       â””â”€â”€ ModerationAlert.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ db.ts                     # Prisma client
â”‚   â”‚   â”œâ”€â”€ moderation.ts
â”‚   â”‚   â”œâ”€â”€ stripe.ts
â”‚   â”‚   â”œâ”€â”€ upload.ts
â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ korean-theme.css
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ images/
â”‚   â””â”€â”€ icons/
â””â”€â”€ .env.local
```

---

## ğŸ—„ Phase 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ (2-3æ—¥)

### 2.1 Prisma ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ

```prisma
// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼
model User {
  id            String    @id @default(cuid())
  email         String    @unique
  emailVerified DateTime?
  name          String?
  nickname      String?   @unique
  image         String?
  bio           String?   @db.Text

  // ãƒ—ãƒ©ãƒ³
  plan          Plan      @default(FREE)
  planExpiry    DateTime?

  // ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢
  trustScore    Int       @default(50)

  // é–¢é€£
  accounts      Account[]
  sessions      Session[]
  spots         Spot[]
  likes         Like[]
  comments      Comment[]
  bookmarks     Bookmark[]
  reports       Report[]

  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt

  @@index([email])
  @@index([nickname])
}

enum Plan {
  FREE
  PREMIUM
  PRO
}

// NextAuthç”¨
model Account {
  id                String  @id @default(cuid())
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String? @db.Text
  access_token      String? @db.Text
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String? @db.Text
  session_state     String?

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
  @@index([userId])
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique
  userId       String
  expires      DateTime
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
}

// ã‚¹ãƒãƒƒãƒˆ
model Spot {
  id          String      @id @default(cuid())
  name        String
  description String      @db.Text
  category    Category
  area        Area
  address     String?
  lat         Float?
  lng         Float?
  budget      Budget?
  hours       String?
  mapLink     String?

  // æŠ•ç¨¿è€…
  userId      String
  user        User        @relation(fields: [userId], references: [id], onDelete: Cascade)

  // ç”»åƒ
  images      Image[]

  // ã‚¿ã‚°
  tags        Tag[]

  // ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  likes       Like[]
  comments    Comment[]
  bookmarks   Bookmark[]

  // ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  status      ModerationStatus @default(PENDING)
  moderatedAt DateTime?
  moderatedBy String?
  rejectionReason String?

  // çµ±è¨ˆ
  likeCount   Int         @default(0)
  commentCount Int        @default(0)
  viewCount   Int         @default(0)

  // ã‚¹ãƒãƒ³ã‚µãƒ¼
  isSponsored Boolean     @default(false)
  sponsorExpiry DateTime?

  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  @@index([userId])
  @@index([category])
  @@index([area])
  @@index([status])
  @@index([createdAt])
  @@index([likeCount])
  @@fulltext([name, description])
}

enum Category {
  CAFE
  RESTAURANT
  TOURISM
  SHOPPING
  NIGHTLIFE
  OTHER
}

enum Area {
  SEOUL
  BUSAN
  JEJU
  INCHEON
  DAEGU
  DAEJEON
  GWANGJU
  OTHER
}

enum Budget {
  LOW        // ~10,000ã‚¦ã‚©ãƒ³
  MEDIUM     // 10,000~30,000ã‚¦ã‚©ãƒ³
  HIGH       // 30,000~50,000ã‚¦ã‚©ãƒ³
  LUXURY     // 50,000ã‚¦ã‚©ãƒ³~
}

enum ModerationStatus {
  PENDING    // AIå¯©æŸ»å¾…ã¡
  APPROVED   // æ‰¿èªæ¸ˆã¿
  REJECTED   // å´ä¸‹
  FLAGGED    // ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šå ±ã‚ã‚Š
  REVIEWING  // ç®¡ç†è€…ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­
}

// ç”»åƒ
model Image {
  id       String @id @default(cuid())
  url      String
  spotId   String
  spot     Spot   @relation(fields: [spotId], references: [id], onDelete: Cascade)
  order    Int    @default(0)

  @@index([spotId])
}

// ã‚¿ã‚°
model Tag {
  id    String @id @default(cuid())
  name  String @unique
  spots Spot[]
  count Int    @default(0)

  @@index([name])
}

// ã„ã„ã­
model Like {
  id        String   @id @default(cuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  spotId    String
  spot      Spot     @relation(fields: [spotId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  @@unique([userId, spotId])
  @@index([userId])
  @@index([spotId])
}

// ã‚³ãƒ¡ãƒ³ãƒˆ
model Comment {
  id        String   @id @default(cuid())
  content   String   @db.Text
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  spotId    String
  spot      Spot     @relation(fields: [spotId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([userId])
  @@index([spotId])
}

// ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯
model Bookmark {
  id        String   @id @default(cuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  spotId    String
  spot      Spot     @relation(fields: [spotId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  @@unique([userId, spotId])
  @@index([userId])
  @@index([spotId])
}

// é€šå ±
model Report {
  id        String       @id @default(cuid())
  reason    ReportReason
  details   String?      @db.Text
  userId    String
  user      User         @relation(fields: [userId], references: [id], onDelete: Cascade)
  spotId    String
  status    ReportStatus @default(PENDING)
  reviewedAt DateTime?
  reviewedBy String?
  createdAt DateTime     @default(now())

  @@index([userId])
  @@index([spotId])
  @@index([status])
}

enum ReportReason {
  SPAM
  INAPPROPRIATE
  MISINFORMATION
  HARASSMENT
  OTHER
}

enum ReportStatus {
  PENDING
  REVIEWED
  ACTIONED
  DISMISSED
}
```

### 2.2 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

```bash
# PrismaåˆæœŸåŒ–
npx prisma init

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
npx prisma migrate dev --name init

# Prisma Clientç”Ÿæˆ
npx prisma generate
```

### 2.3 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

```typescript
// src/lib/db.ts
import { PrismaClient } from '@prisma/client'

const globalForPrisma = globalThis as unknown as {
  prisma: PrismaClient | undefined
}

export const db =
  globalForPrisma.prisma ??
  new PrismaClient({
    log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],
  })

if (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = db
```

---

## ğŸ¨ Phase 3: UI/UXã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£… (5-7æ—¥)

### 3.1 ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…

#### ã‚«ãƒ©ãƒ¼å®šç¾©
```css
/* src/app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* éŸ“å›½ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ */
    --celadon: 148 201 169;
    --celadon-light: 184 230 208;
    --celadon-dark: 107 170 138;

    --dancheong: 198 46 46;
    --dancheong-light: 232 88 88;
    --dancheong-dark: 163 30 30;

    --kpop-pink: 255 62 154;
    --kpop-blue: 0 217 255;
    --kpop-purple: 157 78 221;

    --silk: 248 248 248;

    /* ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ã‚«ãƒ©ãƒ¼ */
    --background: 0 0% 100%;
    --foreground: 0 0% 10%;
    --primary: var(--celadon);
    --secondary: var(--kpop-pink);
    --accent: var(--kpop-blue);
  }

  .dark {
    --background: 0 0% 10%;
    --foreground: 0 0% 95%;
  }
}

@layer components {
  /* éŸ“å›½ã‚¹ã‚¿ã‚¤ãƒ«ã‚«ãƒ¼ãƒ‰ */
  .korean-card {
    @apply rounded-korean bg-white shadow-korean overflow-hidden
           transition-transform hover:scale-[1.02] cursor-pointer;
  }

  /* éŸ“å›½ã‚¹ã‚¿ã‚¤ãƒ«ãƒœã‚¿ãƒ³ */
  .korean-btn {
    @apply px-6 py-3 rounded-korean font-semibold
           transition-all hover:shadow-korean-lg;
  }

  .korean-btn-primary {
    @apply korean-btn bg-celadon text-white hover:bg-celadon-dark;
  }

  .korean-btn-secondary {
    @apply korean-btn bg-kpop-pink text-white hover:opacity-90;
  }
}
```

### 3.2 ã‚¹ãƒãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/spots/SpotCard.tsx
'use client'

import Image from 'next/image'
import Link from 'next/link'
import { Heart, MessageCircle, Bookmark, MapPin } from 'lucide-react'
import { cn } from '@/lib/utils'

interface SpotCardProps {
  spot: {
    id: string
    name: string
    description: string
    category: string
    area: string
    images: { url: string }[]
    likeCount: number
    commentCount: number
    user: {
      name: string
      image: string
    }
  }
  onLike?: () => void
  onBookmark?: () => void
  isLiked?: boolean
  isBookmarked?: boolean
}

export function SpotCard({
  spot,
  onLike,
  onBookmark,
  isLiked = false,
  isBookmarked = false
}: SpotCardProps) {
  return (
    <Link href={`/spots/${spot.id}`} className="block">
      <div className="korean-card group">
        {/* ç”»åƒ */}
        <div className="relative aspect-[16/9] overflow-hidden">
          <Image
            src={spot.images[0]?.url || '/placeholder.jpg'}
            alt={spot.name}
            fill
            className="object-cover group-hover:scale-105 transition-transform duration-300"
          />

          {/* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆéŸ“å›½ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ */}
          <div className="absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent" />

          {/* ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸ */}
          <div className="absolute top-3 left-3">
            <span className="px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-semibold text-celadon-dark">
              {spot.category}
            </span>
          </div>

          {/* ã‚¨ãƒªã‚¢ãƒãƒƒã‚¸ */}
          <div className="absolute top-3 right-3">
            <span className="flex items-center gap-1 px-2 py-1 rounded-full bg-black/50 backdrop-blur-sm text-xs text-white">
              <MapPin className="w-3 h-3" />
              {spot.area}
            </span>
          </div>
        </div>

        {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        <div className="p-4 space-y-3">
          {/* ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆå¤§ããå¤ªå­— - éŸ“å›½ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ */}
          <h3 className="text-xl font-bold text-gray-900 line-clamp-1 group-hover:text-celadon-dark transition-colors">
            {spot.name}
          </h3>

          {/* èª¬æ˜ */}
          <p className="text-sm text-gray-600 line-clamp-2">
            {spot.description}
          </p>

          {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
          <div className="flex items-center justify-between pt-2 border-t border-gray-100">
            {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼ */}
            <div className="flex items-center gap-2">
              <Image
                src={spot.user.image || '/avatar-placeholder.png'}
                alt={spot.user.name}
                width={24}
                height={24}
                className="rounded-full"
              />
              <span className="text-xs text-gray-500">{spot.user.name}</span>
            </div>

            {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
            <div className="flex items-center gap-3">
              {/* ã„ã„ã­ */}
              <button
                onClick={(e) => {
                  e.preventDefault()
                  onLike?.()
                }}
                className={cn(
                  'flex items-center gap-1 text-xs transition-colors',
                  isLiked ? 'text-kpop-pink' : 'text-gray-500 hover:text-kpop-pink'
                )}
              >
                <Heart className={cn('w-4 h-4', isLiked && 'fill-current')} />
                <span className="font-medium">{spot.likeCount}</span>
              </button>

              {/* ã‚³ãƒ¡ãƒ³ãƒˆ */}
              <div className="flex items-center gap-1 text-xs text-gray-500">
                <MessageCircle className="w-4 h-4" />
                <span>{spot.commentCount}</span>
              </div>

              {/* ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ */}
              <button
                onClick={(e) => {
                  e.preventDefault()
                  onBookmark?.()
                }}
                className={cn(
                  'transition-colors',
                  isBookmarked ? 'text-kpop-blue' : 'text-gray-500 hover:text-kpop-blue'
                )}
              >
                <Bookmark className={cn('w-4 h-4', isBookmarked && 'fill-current')} />
              </button>
            </div>
          </div>
        </div>
      </div>
    </Link>
  )
}
```

### 3.3 ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆéŸ“å›½ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰

```tsx
// src/components/layout/Header.tsx
'use client'

import Link from 'next/link'
import { Search, Plus, User, Bell } from 'lucide-react'
import { useSession } from 'next-auth/react'

export function Header() {
  const { data: session } = useSession()

  return (
    <header className="sticky top-0 z-50 w-full border-b border-gray-200 bg-white/80 backdrop-blur-md">
      <div className="container mx-auto px-4 h-16 flex items-center justify-between">
        {/* ãƒ­ã‚´ */}
        <Link href="/" className="flex items-center gap-2">
          <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-celadon to-kpop-blue flex items-center justify-center">
            <span className="text-white font-bold text-lg">K</span>
          </div>
          <span className="text-xl font-bold bg-gradient-to-r from-celadon-dark to-kpop-pink bg-clip-text text-transparent">
            Korea Now
          </span>
        </Link>

        {/* æ¤œç´¢ãƒãƒ¼ï¼ˆãƒ¢ãƒã‚¤ãƒ«ã¯éè¡¨ç¤ºï¼‰ */}
        <div className="hidden md:flex flex-1 max-w-md mx-8">
          <div className="relative w-full">
            <Search className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400" />
            <input
              type="text"
              placeholder="ã‚¹ãƒãƒƒãƒˆã€ã‚¨ãƒªã‚¢ã‚’æ¤œç´¢..."
              className="w-full pl-10 pr-4 py-2 rounded-korean border border-gray-200 focus:outline-none focus:ring-2 focus:ring-celadon focus:border-transparent"
            />
          </div>
        </div>

        {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
        <div className="flex items-center gap-3">
          {session ? (
            <>
              {/* æŠ•ç¨¿ãƒœã‚¿ãƒ³ */}
              <Link href="/spots/new" className="korean-btn-primary">
                <Plus className="w-4 h-4 mr-1 inline" />
                æŠ•ç¨¿
              </Link>

              {/* é€šçŸ¥ */}
              <button className="p-2 rounded-korean hover:bg-gray-100 relative">
                <Bell className="w-5 h-5 text-gray-600" />
                <span className="absolute top-1 right-1 w-2 h-2 bg-kpop-pink rounded-full" />
              </button>

              {/* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« */}
              <Link href="/profile" className="p-2 rounded-korean hover:bg-gray-100">
                <User className="w-5 h-5 text-gray-600" />
              </Link>
            </>
          ) : (
            <>
              <Link href="/login" className="text-sm font-medium text-gray-600 hover:text-celadon-dark">
                ãƒ­ã‚°ã‚¤ãƒ³
              </Link>
              <Link href="/signup" className="korean-btn-primary text-sm">
                æ–°è¦ç™»éŒ²
              </Link>
            </>
          )}
        </div>
      </div>

      {/* ãƒ¢ãƒã‚¤ãƒ«æ¤œç´¢ãƒãƒ¼ */}
      <div className="md:hidden px-4 pb-3">
        <div className="relative">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400" />
          <input
            type="text"
            placeholder="æ¤œç´¢..."
            className="w-full pl-10 pr-4 py-2 rounded-korean border border-gray-200"
          />
        </div>
      </div>
    </header>
  )
}
```

---

## ğŸ” Phase 4: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£… (3-4æ—¥)

### 4.1 NextAuth.js v5 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```typescript
// src/lib/auth.ts
import NextAuth from 'next-auth'
import Google from 'next-auth/providers/google'
import Credentials from 'next-auth/providers/credentials'
import { PrismaAdapter } from '@auth/prisma-adapter'
import { db } from './db'
import bcrypt from 'bcryptjs'
import { z } from 'zod'

export const { handlers, auth, signIn, signOut } = NextAuth({
  adapter: PrismaAdapter(db),
  session: { strategy: 'jwt' },
  pages: {
    signIn: '/login',
    error: '/error',
  },
  providers: [
    Google({
      clientId: process.env.GOOGLE_CLIENT_ID!,
      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,
    }),
    Credentials({
      credentials: {
        email: { label: 'Email', type: 'email' },
        password: { label: 'Password', type: 'password' },
      },
      authorize: async (credentials) => {
        const parsedCredentials = z
          .object({ email: z.string().email(), password: z.string().min(6) })
          .safeParse(credentials)

        if (!parsedCredentials.success) return null

        const { email, password } = parsedCredentials.data

        const user = await db.user.findUnique({
          where: { email },
          select: {
            id: true,
            email: true,
            name: true,
            image: true,
            password: true,
          },
        })

        if (!user || !user.password) return null

        const passwordsMatch = await bcrypt.compare(password, user.password)
        if (!passwordsMatch) return null

        return {
          id: user.id,
          email: user.email,
          name: user.name,
          image: user.image,
        }
      },
    }),
  ],
  callbacks: {
    async jwt({ token, user, trigger, session }) {
      if (user) {
        token.id = user.id
      }

      // Update token when session is updated
      if (trigger === 'update' && session) {
        return { ...token, ...session.user }
      }

      return token
    },
    async session({ session, token }) {
      if (token) {
        session.user.id = token.id as string
      }
      return session
    },
  },
})
```

### 4.2 èªè¨¼API Routes

```typescript
// src/app/api/auth/[...nextauth]/route.ts
export { handlers as GET, handlers as POST } from '@/lib/auth'
```

### 4.3 ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆéŸ“å›½ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰

```tsx
// src/app/(auth)/login/page.tsx
'use client'

import { signIn } from 'next-auth/react'
import { useState } from 'react'
import Link from 'next/link'
import Image from 'next/image'

export default function LoginPage() {
  const [isLoading, setIsLoading] = useState(false)

  const handleGoogleLogin = async () => {
    setIsLoading(true)
    await signIn('google', { callbackUrl: '/' })
  }

  return (
    <div className="min-h-screen flex">
      {/* å·¦å´: ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆéŸ“å›½é¢¨æ™¯ï¼‰ */}
      <div className="hidden lg:block lg:w-1/2 relative">
        <Image
          src="/images/korea-hero.jpg"
          alt="Korea"
          fill
          className="object-cover"
        />
        <div className="absolute inset-0 bg-gradient-to-br from-celadon/80 to-kpop-pink/80" />
        <div className="absolute inset-0 flex items-center justify-center p-12">
          <div className="text-white text-center">
            <h1 className="text-5xl font-bold mb-4">ã€Œä»Šã®éŸ“å›½ã€ã‚’</h1>
            <h1 className="text-5xl font-bold mb-8">ç™ºè¦‹ã—ã‚ˆã†</h1>
            <p className="text-xl opacity-90">
              ãƒˆãƒ¬ãƒ³ãƒ‰ã‚¹ãƒãƒƒãƒˆã‚’å…±æœ‰ãƒ»ç™ºè¦‹ã§ãã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
            </p>
          </div>
        </div>
      </div>

      {/* å³å´: ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ  */}
      <div className="flex-1 flex items-center justify-center p-8">
        <div className="w-full max-w-md space-y-8">
          {/* ãƒ­ã‚´ */}
          <div className="text-center">
            <div className="inline-flex items-center gap-2 mb-2">
              <div className="w-12 h-12 rounded-korean-lg bg-gradient-to-br from-celadon to-kpop-blue flex items-center justify-center">
                <span className="text-white font-bold text-2xl">K</span>
              </div>
            </div>
            <h2 className="text-3xl font-bold text-gray-900">ãƒ­ã‚°ã‚¤ãƒ³</h2>
            <p className="mt-2 text-gray-600">
              Korea Nowã¸ã‚ˆã†ã“ã
            </p>
          </div>

          {/* Google Login */}
          <button
            onClick={handleGoogleLogin}
            disabled={isLoading}
            className="w-full korean-card hover:shadow-korean-lg flex items-center justify-center gap-3 p-4 transition-all"
          >
            <svg className="w-5 h-5" viewBox="0 0 24 24">
              {/* Google icon SVG */}
            </svg>
            <span className="font-medium">Googleã§ãƒ­ã‚°ã‚¤ãƒ³</span>
          </button>

          <div className="relative">
            <div className="absolute inset-0 flex items-center">
              <div className="w-full border-t border-gray-300" />
            </div>
            <div className="relative flex justify-center text-sm">
              <span className="px-2 bg-white text-gray-500">ã¾ãŸã¯</span>
            </div>
          </div>

          {/* Email/Password Form */}
          <form className="space-y-4">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
              </label>
              <input
                type="email"
                className="w-full px-4 py-3 rounded-korean border border-gray-300 focus:ring-2 focus:ring-celadon focus:border-transparent"
                placeholder="you@example.com"
              />
            </div>

            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
              </label>
              <input
                type="password"
                className="w-full px-4 py-3 rounded-korean border border-gray-300 focus:ring-2 focus:ring-celadon focus:border-transparent"
                placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
              />
            </div>

            <button type="submit" className="w-full korean-btn-primary">
              ãƒ­ã‚°ã‚¤ãƒ³
            </button>
          </form>

          {/* Footer */}
          <p className="text-center text-sm text-gray-600">
            ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹ã¯{' '}
            <Link href="/signup" className="text-celadon-dark font-medium hover:underline">
              æ–°è¦ç™»éŒ²
            </Link>
          </p>
        </div>
      </div>
    </div>
  )
}
```

---

## ğŸ“ Phase 5: ã‚¹ãƒãƒƒãƒˆæŠ•ç¨¿ãƒ»é–²è¦§æ©Ÿèƒ½ (5-7æ—¥)

### 5.1 ã‚¹ãƒãƒƒãƒˆæŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ 

```tsx
// src/app/(main)/spots/new/page.tsx
'use client'

import { useState } from 'react'
import { useRouter } from 'next/navigation'
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { z } from 'zod'
import { Upload, X, MapPin } from 'lucide-react'

const spotSchema = z.object({
  name: z.string().min(1, 'åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),
  description: z.string().min(10, '10æ–‡å­—ä»¥ä¸Šã®èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„').max(500),
  category: z.enum(['CAFE', 'RESTAURANT', 'TOURISM', 'SHOPPING', 'NIGHTLIFE', 'OTHER']),
  area: z.enum(['SEOUL', 'BUSAN', 'JEJU', 'INCHEON', 'DAEGU', 'DAEJEON', 'GWANGJU', 'OTHER']),
  address: z.string().optional(),
  budget: z.enum(['LOW', 'MEDIUM', 'HIGH', 'LUXURY']).optional(),
  tags: z.array(z.string()).max(5),
})

type SpotFormData = z.infer<typeof spotSchema>

export default function NewSpotPage() {
  const router = useRouter()
  const [images, setImages] = useState<File[]>([])
  const [isSubmitting, setIsSubmitting] = useState(false)

  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<SpotFormData>({
    resolver: zodResolver(spotSchema),
  })

  const onSubmit = async (data: SpotFormData) => {
    setIsSubmitting(true)

    try {
      // ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
      const imageUrls = await Promise.all(
        images.map(async (file) => {
          const formData = new FormData()
          formData.append('file', file)

          const res = await fetch('/api/upload', {
            method: 'POST',
            body: formData,
          })

          const { url } = await res.json()
          return url
        })
      )

      // ã‚¹ãƒãƒƒãƒˆä½œæˆ
      const res = await fetch('/api/spots', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          ...data,
          images: imageUrls,
        }),
      })

      if (!res.ok) throw new Error('Failed to create spot')

      const { spot } = await res.json()
      router.push(`/spots/${spot.id}`)
    } catch (error) {
      console.error(error)
      alert('æŠ•ç¨¿ã«å¤±æ•—ã—ã¾ã—ãŸ')
    } finally {
      setIsSubmitting(false)
    }
  }

  return (
    <div className="container mx-auto px-4 py-8 max-w-3xl">
      <h1 className="text-3xl font-bold text-gray-900 mb-8">
        æ–°ã—ã„ã‚¹ãƒãƒƒãƒˆã‚’æŠ•ç¨¿
      </h1>

      <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
        {/* ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ */}
        <div className="korean-card p-6">
          <label className="block text-sm font-medium text-gray-700 mb-2">
            å†™çœŸï¼ˆæœ€å¤§3æšï¼‰
          </label>

          <div className="grid grid-cols-3 gap-4">
            {images.map((image, index) => (
              <div key={index} className="relative aspect-square">
                <img
                  src={URL.createObjectURL(image)}
                  alt={`Preview ${index + 1}`}
                  className="w-full h-full object-cover rounded-korean"
                />
                <button
                  type="button"
                  onClick={() => setImages(images.filter((_, i) => i !== index))}
                  className="absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-black/70"
                >
                  <X className="w-4 h-4" />
                </button>
              </div>
            ))}

            {images.length < 3 && (
              <label className="aspect-square border-2 border-dashed border-gray-300 rounded-korean flex flex-col items-center justify-center cursor-pointer hover:border-celadon transition-colors">
                <Upload className="w-8 h-8 text-gray-400 mb-2" />
                <span className="text-xs text-gray-500">å†™çœŸã‚’è¿½åŠ </span>
                <input
                  type="file"
                  accept="image/*"
                  className="hidden"
                  onChange={(e) => {
                    const files = Array.from(e.target.files || [])
                    setImages([...images, ...files].slice(0, 3))
                  }}
                />
              </label>
            )}
          </div>
        </div>

        {/* åŸºæœ¬æƒ…å ± */}
        <div className="korean-card p-6 space-y-4">
          {/* ã‚¹ãƒãƒƒãƒˆå */}
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-1">
              ã‚¹ãƒãƒƒãƒˆå *
            </label>
            <input
              {...register('name')}
              className="w-full px-4 py-3 rounded-korean border border-gray-300 focus:ring-2 focus:ring-celadon focus:border-transparent"
              placeholder="ä¾‹: å¼˜å¤§ã®éš ã‚Œå®¶ã‚«ãƒ•ã‚§"
            />
            {errors.name && (
              <p className="mt-1 text-sm text-red-500">{errors.name.message}</p>
            )}
          </div>

          {/* ã‚«ãƒ†ã‚´ãƒª & ã‚¨ãƒªã‚¢ */}
          <div className="grid grid-cols-2 gap-4">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                ã‚«ãƒ†ã‚´ãƒª *
              </label>
              <select
                {...register('category')}
                className="w-full px-4 py-3 rounded-korean border border-gray-300"
              >
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                <option value="CAFE">ã‚«ãƒ•ã‚§</option>
                <option value="RESTAURANT">ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³</option>
                <option value="TOURISM">è¦³å…‰ã‚¹ãƒãƒƒãƒˆ</option>
                <option value="SHOPPING">ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°</option>
                <option value="NIGHTLIFE">ãƒŠã‚¤ãƒˆãƒ©ã‚¤ãƒ•</option>
                <option value="OTHER">ãã®ä»–</option>
              </select>
            </div>

            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                ã‚¨ãƒªã‚¢ *
              </label>
              <select
                {...register('area')}
                className="w-full px-4 py-3 rounded-korean border border-gray-300"
              >
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                <option value="SEOUL">ã‚½ã‚¦ãƒ«</option>
                <option value="BUSAN">é‡œå±±</option>
                <option value="JEJU">æ¸ˆå·å³¶</option>
                <option value="INCHEON">ä»å·</option>
                <option value="DAEGU">å¤§é‚±</option>
                <option value="OTHER">ãã®ä»–</option>
              </select>
            </div>
          </div>

          {/* èª¬æ˜ */}
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-1">
              èª¬æ˜ *
            </label>
            <textarea
              {...register('description')}
              rows={4}
              className="w-full px-4 py-3 rounded-korean border border-gray-300 focus:ring-2 focus:ring-celadon focus:border-transparent"
              placeholder="ã“ã®ã‚¹ãƒãƒƒãƒˆã®é­…åŠ›ã‚’æ•™ãˆã¦ãã ã•ã„..."
            />
            {errors.description && (
              <p className="mt-1 text-sm text-red-500">{errors.description.message}</p>
            )}
          </div>
        </div>

        {/* é€ä¿¡ãƒœã‚¿ãƒ³ */}
        <div className="flex gap-4">
          <button
            type="button"
            onClick={() => router.back()}
            className="flex-1 px-6 py-3 rounded-korean border border-gray-300 font-medium hover:bg-gray-50"
          >
            ã‚­ãƒ£ãƒ³ã‚»ãƒ«
          </button>
          <button
            type="submit"
            disabled={isSubmitting}
            className="flex-1 korean-btn-primary disabled:opacity-50"
          >
            {isSubmitting ? 'æŠ•ç¨¿ä¸­...' : 'æŠ•ç¨¿ã™ã‚‹'}
          </button>
        </div>
      </form>
    </div>
  )
}
```

### 5.2 ã‚¹ãƒãƒƒãƒˆæŠ•ç¨¿API (Server Action)

```typescript
// src/app/actions/spots.ts
'use server'

import { auth } from '@/lib/auth'
import { db } from '@/lib/db'
import { moderateContent, moderateImage } from '@/lib/moderation'
import { revalidatePath } from 'next/cache'
import { kv } from '@vercel/kv'

export async function createSpot(data: {
  name: string
  description: string
  category: string
  area: string
  images: string[]
  tags?: string[]
}) {
  const session = await auth()
  if (!session?.user) {
    throw new Error('Unauthorized')
  }

  // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒã‚§ãƒƒã‚¯
  const rateKey = `ratelimit:spots:${session.user.id}`
  const count = await kv.incr(rateKey)

  if (count === 1) {
    await kv.expire(rateKey, 86400) // 24 hours
  }

  // ç„¡æ–™ãƒ—ãƒ©ãƒ³ã¯1æ—¥5ä»¶ã¾ã§
  const user = await db.user.findUnique({
    where: { id: session.user.id },
    select: { plan: true },
  })

  const limits = {
    FREE: 5,
    PREMIUM: 30,
    PRO: Infinity,
  }

  if (count > limits[user!.plan]) {
    throw new Error('Daily limit exceeded')
  }

  // AIãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  const textModeration = await moderateContent(
    `${data.name} ${data.description}`
  )

  if (textModeration.flagged) {
    throw new Error('Content violates community guidelines')
  }

  // ç”»åƒãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  const imageModeration = await Promise.all(
    data.images.map((url) => moderateImage(url))
  )

  if (imageModeration.some((result) => result.flagged)) {
    throw new Error('Image contains inappropriate content')
  }

  // ã‚¹ãƒãƒƒãƒˆä½œæˆ
  const spot = await db.spot.create({
    data: {
      name: data.name,
      description: data.description,
      category: data.category as any,
      area: data.area as any,
      userId: session.user.id,
      status: 'APPROVED', // AIé€šéã—ãŸã®ã§APPROVED
      images: {
        create: data.images.map((url, index) => ({
          url,
          order: index,
        })),
      },
      tags: {
        connectOrCreate: data.tags?.map((tag) => ({
          where: { name: tag },
          create: { name: tag, count: 1 },
        })) || [],
      },
    },
    include: {
      images: true,
      user: {
        select: {
          id: true,
          name: true,
          image: true,
        },
      },
    },
  })

  revalidatePath('/')
  revalidatePath('/spots')

  return { spot }
}
```

---

## ğŸ¤– Phase 6: AIãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£… (3-4æ—¥)

### 6.1 ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

```typescript
// src/lib/moderation.ts
import OpenAI from 'openai'

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
})

// ãƒ†ã‚­ã‚¹ãƒˆãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
export async function moderateContent(text: string) {
  try {
    const moderation = await openai.moderations.create({
      input: text,
    })

    const result = moderation.results[0]

    return {
      flagged: result.flagged,
      categories: result.categories,
      categoryScores: result.category_scores,
    }
  } catch (error) {
    console.error('Moderation error:', error)
    // ã‚¨ãƒ©ãƒ¼æ™‚ã¯å®‰å…¨å´ã«å€’ã™
    return { flagged: true, categories: {}, categoryScores: {} }
  }
}

// ç”»åƒãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
export async function moderateImage(imageUrl: string) {
  try {
    const response = await openai.chat.completions.create({
      model: 'gpt-4-vision-preview',
      messages: [
        {
          role: 'user',
          content: [
            {
              type: 'text',
              text: `Analyze this image for inappropriate content including:
- Adult/sexual content
- Violence or gore
- Hate symbols
- Spam or promotional content

Respond with JSON: { "flagged": boolean, "reason": string }`,
            },
            {
              type: 'image_url',
              image_url: { url: imageUrl },
            },
          ],
        },
      ],
      max_tokens: 300,
    })

    const content = response.choices[0].message.content
    const result = JSON.parse(content || '{}')

    return {
      flagged: result.flagged || false,
      reason: result.reason,
    }
  } catch (error) {
    console.error('Image moderation error:', error)
    return { flagged: true, reason: 'Moderation failed' }
  }
}
```

---

## ğŸ’³ Phase 7: æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ  (Stripe) (3-4æ—¥)

### 7.1 Stripeè¨­å®š

```typescript
// src/lib/stripe.ts
import Stripe from 'stripe'

export const stripe = new Stripe(process.env.STRIPE_SECRET_KEY!, {
  apiVersion: '2023-10-16',
})

export const plans = {
  premium: {
    priceId: process.env.STRIPE_PREMIUM_PRICE_ID!,
    amount: 480,
    currency: 'jpy',
  },
  pro: {
    priceId: process.env.STRIPE_PRO_PRICE_ID!,
    amount: 2980,
    currency: 'jpy',
  },
}
```

### 7.2 ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆAPI

```typescript
// src/app/api/checkout/route.ts
import { NextResponse } from 'next/server'
import { auth } from '@/lib/auth'
import { stripe, plans } from '@/lib/stripe'

export async function POST(req: Request) {
  const session = await auth()
  if (!session?.user) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })
  }

  const { plan } = await req.json()

  if (!plans[plan as keyof typeof plans]) {
    return NextResponse.json({ error: 'Invalid plan' }, { status: 400 })
  }

  const checkoutSession = await stripe.checkout.sessions.create({
    customer_email: session.user.email!,
    line_items: [
      {
        price: plans[plan as keyof typeof plans].priceId,
        quantity: 1,
      },
    ],
    mode: 'subscription',
    success_url: `${process.env.NEXT_PUBLIC_URL}/settings?success=true`,
    cancel_url: `${process.env.NEXT_PUBLIC_URL}/settings?canceled=true`,
    metadata: {
      userId: session.user.id,
      plan,
    },
  })

  return NextResponse.json({ url: checkoutSession.url })
}
```

---

## ğŸ§ª Phase 8: ãƒ†ã‚¹ãƒˆå®Ÿè£… (3-5æ—¥)

### 8.1 Unit Tests (Vitest)

```typescript
// src/lib/__tests__/moderation.test.ts
import { describe, it, expect, vi } from 'vitest'
import { moderateContent } from '../moderation'

describe('Moderation', () => {
  it('should flag inappropriate content', async () => {
    const result = await moderateContent('This is inappropriate content...')
    expect(result.flagged).toBe(true)
  })

  it('should pass clean content', async () => {
    const result = await moderateContent('This is a nice cafe in Seoul!')
    expect(result.flagged).toBe(false)
  })
})
```

---

## ğŸš€ Phase 9: ãƒ‡ãƒ—ãƒ­ã‚¤ (1-2æ—¥)

### 9.1 Vercelè¨­å®š

```bash
# Vercel CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm i -g vercel

# ãƒ‡ãƒ—ãƒ­ã‚¤
vercel

# ç’°å¢ƒå¤‰æ•°è¨­å®š
vercel env add POSTGRES_URL
vercel env add OPENAI_API_KEY
vercel env add STRIPE_SECRET_KEY
# ...
```

---

## ğŸ“ˆ Phase 10: ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ»æœ€é©åŒ– (ç¶™ç¶š)

### 10.1 Vercel Analytics
- Real User Monitoring
- Web Vitals tracking

### 10.2 Sentry ã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

```typescript
// sentry.client.config.ts
import * as Sentry from '@sentry/nextjs'

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  tracesSampleRate: 1.0,
})
```

---

## ğŸ“Š å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚ç®—

| ãƒ•ã‚§ãƒ¼ã‚º | ã‚¿ã‚¹ã‚¯ | æœŸé–“ | ç´¯è¨ˆ |
|---------|--------|------|------|
| 0 | ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ | 3-5æ—¥ | 5æ—¥ |
| 1 | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | 3-5æ—¥ | 10æ—¥ |
| 2 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ | 2-3æ—¥ | 13æ—¥ |
| 3 | UI/UXã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | 5-7æ—¥ | 20æ—¥ |
| 4 | èªè¨¼ã‚·ã‚¹ãƒ†ãƒ  | 3-4æ—¥ | 24æ—¥ |
| 5 | ã‚¹ãƒãƒƒãƒˆæ©Ÿèƒ½ | 5-7æ—¥ | 31æ—¥ |
| 6 | AIãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | 3-4æ—¥ | 35æ—¥ |
| 7 | æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ  | 3-4æ—¥ | 39æ—¥ |
| 8 | ãƒ†ã‚¹ãƒˆå®Ÿè£… | 3-5æ—¥ | 44æ—¥ |
| 9 | ãƒ‡ãƒ—ãƒ­ã‚¤ | 1-2æ—¥ | 46æ—¥ |
| 10 | æœ€é©åŒ– | ç¶™ç¶š | - |

**åˆè¨ˆ: ç´„6-7é€±é–“ï¼ˆ1.5-2ãƒ¶æœˆï¼‰**

---

## ğŸ¯ é‡è¦ãªå®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ

### éŸ“å›½ãƒ‡ã‚¶ã‚¤ãƒ³ã®å®Ÿç¾
1. **ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ**: ä¼çµ±è‰² + K-POPãƒ¢ãƒ€ãƒ³è‰²
2. **ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£**: Pretendard + Noto Sans JP
3. **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ã‚«ãƒ¼ãƒ‰å‹ã€å¤§ããªç”»åƒã€å¤§èƒ†ãªä½™ç™½
4. **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**: æ§ãˆã‚ã§ã‚¹ãƒ ãƒ¼ã‚º
5. **ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: éŸ“å›½ã¯ãƒ¢ãƒã‚¤ãƒ«åˆ©ç”¨ç‡ãŒéå¸¸ã«é«˜ã„

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
1. **ç”»åƒæœ€é©åŒ–**: Next.js Image, Vercel Blob
2. **ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°**: Vercel KV, React Query
3. **Server Components**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§SSR
4. **Edge Functions**: ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
1. **3å±¤ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: AI â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šå ± â†’ ç®¡ç†è€…
2. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: Vercel KV
3. **å…¥åŠ›æ¤œè¨¼**: Zod
4. **èªè¨¼**: NextAuth.js v5

---

**ä½œæˆæ—¥**: 2025-12-22
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**æƒ³å®šé–‹ç™ºæœŸé–“**: 6-7é€±é–“ï¼ˆ1.5-2ãƒ¶æœˆï¼‰
